<script>
   document.addEventListener("DOMContentLoaded", function () {
     if (!/posts/.test(location.pathname)) {
       return;
     }

     var script = document.createElement("script");
     script.src = "https://giscus.app/client.js";
     script.setAttribute("data-repo", "vgherard/vgherard.github.io");
     script.setAttribute("data-repo-id", "MDEwOlJlcG9zaXRvcnkzODI2MzU4NTQ=");
     script.setAttribute("data-category", "Comments");
     script.setAttribute("data-category-id", "DIC_kwDOFs6PTs4CbwOw");
     script.setAttribute("data-mapping", "pathname");
     script.setAttribute("data-reactions-enabled", "1");
     script.setAttribute("data-strict", "0");
     script.setAttribute("data-emit-metadata", "0");
     script.setAttribute("data-theme", "light");
     script.setAttribute("data-lang", "en");
     script.setAttribute("data-input-position", "top");
     script.setAttribute("data-theme", "preferred_color_scheme");
     script.setAttribute("data-lang", "en");
     script.setAttribute("data-loading", "lazy");
     script.setAttribute("crossorigin", "anonymous");

     /* wait for article to load, append script to article element */
     var observer = new MutationObserver(function (mutations, observer) {
       var article = document.querySelector("d-article");
       if (article) {
         observer.disconnect();
         /* HACK: article scroll */
         article.setAttribute("style", "overflow-y: hidden");
         article.appendChild(script);
       }
     });

     observer.observe(document.body, { childList: true });
   });
 </script>
